<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>.-../.-/../-.//----/./-.-./-.-////</title>
    <body>
        <body bgcolor="#000000">
        
        <div align="center">
           
         <TITLE>create</TITLE>
        
        
        <style>
          img {
           position: absolute;
           top: 50%;
           left: 50%;
           width: 850px;
           height: 600px;
           margin-top: -300px;
           margin-left: -450px;
        }
          
        </style>
        
        
         
        <img border="0" id="giflain" src="/img/gif/pcLain3.gif" alt="Lain" ></a>
 <script>
var timegif = 250; // Tiempo en milisegundos para mostrar el GIF

// Obtener el contador del localStorage
var count = localStorage.getItem('redirectCount');

// Si no existe, inicializarlo en 1
if (count === null) {
    count = 1;
} else {
    count = parseInt(count) + 1; // Incrementar el contador
}

// Guardar el contador actualizado en el localStorage
localStorage.setItem('redirectCount', count);

// Lista de páginas para redirigir aleatoriamente
var pages = ['pre-midblogN2.html', 'pre-midblogN3.html', 'pre-midblogN4.html', 'pre-midblogN5.html','pre-midblogN1.html'];

// Obtener el GIF anterior del localStorage
var lastGif = localStorage.getItem('lastGif');

// Función para seleccionar un GIF aleatorio diferente al anterior
function getNextPage() {
    var nextPage;
    var availablePages = pages.filter(function(page) {
        // Asegurarse de que el GIF no sea el mismo que el anterior
        return page !== lastGif;
    });

    if (availablePages.length > 0) {
        nextPage = availablePages[Math.floor(Math.random() * availablePages.length)];
    } else {
        // Si todos los GIFs son los mismos, selecciona uno al azar
        nextPage = pages[Math.floor(Math.random() * pages.length)];
    }
    
    return nextPage;
}

var nextPage;
if (count <= 15) { // Número de redirecciones antes de finalizar
    nextPage = getNextPage();
} else {
    nextPage = 'final-pre-midblogN6.html'; // Página final después de completar el bucle
    localStorage.removeItem('redirectCount'); // Limpiar el contador
    localStorage.removeItem('lastGif'); // Limpiar el GIF anterior
}

// Guardar el GIF actual en localStorage para la próxima redirección
localStorage.setItem('lastGif', nextPage);

// Redirigir a la siguiente página después del tiempo especificado
setTimeout(function() {
    window.location.href = nextPage;
}, timegif);

// var timegif = 200;
// setTimeout(function(){
//     window.location.href = 'pre-midblogN4';

// },timegif);

</script>  
        </body>    
    </div>
        </html>